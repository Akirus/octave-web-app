# Работа с массивами в Матлаб
Все данные MatLab представляет в виде массивов. Очень важно правильно понять, как использовать массивы. Без этого невозможна эффективная работа в MatLab, в частности построение графиков, решение задач линейной алгебры, обработки данных, статистики и многих других. В данном подразделе описаны вычисления с векторами.

Массив - упорядоченная, пронумерованная совокупность однородных данных. У массива должно быть имя. Массивы различаются по числу размерностей или измерений: одномерные, двумерные, многомерные. Доступ к элементам осуществляется при помощи индекса. В MatLab нумерация элементов массивов начинается с единицы. Это значит, что индексы должны быть больше или равны единице.

Важно понять, что вектор, вектор-строка или матрица являются математическими объектами, а одномерные, двумерные или многомерные массивы - способы хранения этих объектов в компьютере. Всюду дальше будут использоваться слова вектор и матрица, если больший интерес представляет сам объект, чем способ его хранения. Вектор может быть записан в столбик (вектор-столбец) и в строку (вектор-строка). Вектор-столбцы и вектор-строки часто будут называться просто векторами, различие будет сделано в тех случаях, если важен способ хранения вектора в MatLab. Векторы и матрицы обозначаются курсивом, а соответствующие им массивы прямым моноширинным шрифтом, например: "вектор а содержится в массиве а", "запишите матрицу R в массив r". 
Ввод сложение и вычитание векторов

Работу с массивами начнем с простого примера - вычисления суммы векторов:
Для хранения векторов используйте массивы а и b. Введите массив а в командной строке, используя квадратные скобки и разделяя элементы вектора точкой с запятой:

```matlab
a = [1.3; 5.4; 6.9] 
```

Так как введенное выражение не завершено точкой с запятой, то пакет MatLab автоматически вывел значение переменной а. Введите теперь второй вектор.

```matlab
b = [7.1; 3.5; 8.2]
```

Для нахождения суммы векторов используется знак +. Вычислите сумму, запишите результат в массив  с  и выведите его элементы в командное окно:

```matlab
a = [1.3; 5.4; 6.9];
b = [7.1; 3.5; 8.2];
c = a + b 
```

Узнайте размерность и размер массива а при помощи встроенных функций ndims и size:

```matlab
a = [1.3; 5.4; 6.9];
ndims(a) 
size(a)
```

Итак, вектор а хранится в двумерном массиве а размерностью три на один (вектор-столбец из трех строк и одного столбца). Аналогичные операции можно проделать и для массивов b и c. Поскольку числа в пакете MatLab представляются в виде двумерного массива один на один, то при сложении векторов используется тот же знак плюс, что и для сложения чисел.

Ввод вектор-строки осуществляется в квадратных скобках, однако элементы следует разделять пробелами или запятыми. Операции сложения, вычитания и вычисление элементарных функций от вектор-строк производятся так же, как и с вектор-столбцами, в результате получается вектор-строка того же размера, что и исходные. Например:

```matlab
s1 = [3 4 9 2]
s2 = [5 3 3 2]
s3 = s1 + s2
```
Замечание 1

Если размеры векторов, к которым применяется сложение или вычитание, не совпадают, то выдается сообщение об ошибке.

Естественно, для нахождения разности векторов следует применять знак минус, с умножением дело обстоит несколько сложнее.
Введите две вектор-строки:

```matlab
v1 = [2 -3 4 1] 
v2 = [7 5 -6 9]
```

Операция .* (не вставляйте пробел между точкой и звездочкой!) приводит к поэлементному умножению векторов одинаковой длины. В результате получается вектор с элементами, равными произведению соответствующих элементов исходных векторов:

```matlab
v1 = [2 -3 4 1];
v2 = [7 5 -6 9];
u = v1.*v2
```

При помощи .^ осуществляется поэлементное возведение в степень:

```matlab
v1 = [2 -3 4 1];
p = v1.^2
```

Показателем степени может быть вектор той же длины, что и возводимый в степень. При этом каждый элемент первого вектора возводится в степень, равную соответствующему элементу второго вектора:

```matlab
v1 = [2 -3 4 1];
v2 = [7 5 -6 9];
p = v1.^v2
```

Деление соответствующих элементов векторов одинаковой длины выполняется с использованием операции ./

```matlab
v1 = [2 -3 4 1];
v2 = [7 5 -6 9];
d = v1./v2
```

Обратное поэлементное деление (деление элементов второго вектора на соответствующие элементы первого) осуществляется при помощи операции .\

```matlab
v1 = [2 -3 4 1];
v2 = [7 5 -6 9];
dinv = v1.\v2
```

Итак, точка в MatLab используется не только для ввода десятичных дробей, но и для указания того, что деление или умножение массивов одинакового размера должно быть выполнено поэлементно. 
К поэлементным относятся и операции с вектором и числом. Сложение вектора и числа не приводит к сообщению об ошибке. MatLab прибавляет число к каждому элементу вектора. То же самое справедливо и для вычитания:

```matlab
v = [4 6 8 10]; 
s = v + 1.2
r = 1.2 - v 
r1 = v - 1.2 
```

Умножать вектор на число можно как справа, так и слева:

```matlab
v = [4 6 8 10]; 
p = v*2 
pi = 2*v 
```

Делить при помощи знака / можно вектор на число:
```matlab
v = [4 6 8 10]; 
p = v/2
```

Попытка деления числа на вектор приводит к сообщению об ошибке:
```matlab
v = [4 6 8 10]; 
p = 2/v 
```

Если требуется разделить число на каждый элемент вектора и записать результат в новый вектор, то следует использовать операцию ./

```matlab
w = [4 2 6]; 
d = 12./w 
```

Все вышеописанные операции применимы как к вектор-строкам, так и к вектор-столбцам. 
Особенность MatLab представлять все данные в виде массивов является очень удобной. Пусть, например, требуется вычислить значение функции sin сразу для всех элементов вектора с (который хранится в массиве d) и записать результат в вектор d. Для получения вектора d достаточно использовать один оператор присваивания:

```matlab
w = [4 2 6]; 
d = 12./w
d = sin(d) 
```

Итак, встроенные в MatLab элементарные функции приспосабливаются к виду аргументов; если аргумент является массивом, то результат функции будет массивом того же размера, но с элементами, равными значению функции от соответствующих элементов исходного массива. Убедитесь в этом еще на одном примере. Если необходимо найти квадратный корень из элементов вектора dсо знаком минус, то достаточно записать:

```matlab
w = [4 2 6]; 
d = 12./w
d = sin(d)
sqrt(-d) 
```

Оператор присваивания не использовался, поэтому пакет MatLab записал ответ в стандартную переменную *ans*.

Для определения длины вектор-столбцов или вектор-строк служит встроенная функция length:

```matlab
w = [4 2 6]; 
length(w) 
```

Из нескольких вектор-столбцов можно составить один, используя квадратные скобки и разделяя исходные вектор-столбцы точкой с запятой:

```matlab
v1 = [1; 2];
v2 = [3; 4; 5]; 
v = [v1; v2] 
```

Для сцепления вектор-строк также применяются квадратные скобки, но сцепляемые вектор-строки отделяются пробелами или запятыми:

```matlab
v1 = [1 2]; 
v2 = [3 4 5]; 
v = [v1 v2] 
```
Работа с элементами векторов

Доступ к элементам вектор-столбца или вектор-строки осуществляется при помощи индекса, заключаемого в круглые скобки после имени массива, в котором хранится вектор. Если среди переменных рабочей среды есть массив v, определенный вектор-строкой

```matlab 
v = [1.3 3.6 7.4  8.2 0.9]
```

то для вывода, например его четвертого элемента, используется индексация:

```matlab
v = [1.3 3.6 7.4  8.2 0.9]
v(4)
```

Появление элемента массива в левой части оператора присваивания приводит к изменению в массиве

```matlab
v = [1.3 3.6 7.4  8.2 0.9]
v(2) = 555
```

Из элементов массива можно формировать новые массивы, например

```matlab 
v = [1.3 3.6 7.4  8.2 0.9]
u = [v(3); v(2);  v(1)] 
```

Для помещения определенных элементов вектора в другой вектор в заданном порядке служит индексация при помощи вектора. Запись в массив w четвертого, второго и пятого элементов v производится следующим образом:

```matlab
v = [1.3 3.6 7.4  8.2 0.9]
ind = [4 2 5];
w = v(ind) 
```

MatLab предоставляет удобный способ обращения к блокам последовательно расположенных элементов вектор-столбца или вектор-строки. Для этого служит индексация при помощи знака двоеточия. Предположим, что в массиве w, соответствующем вектор-строке из семи элементов, требуется заменить нулями элементы со второго по шестой. Индексация при помощи двоеточия позволяет просто и наглядно решить поставленную задачу:

```matlab
w = [0.1 2.9 3.3 5.1 2.6 7.1 9.8]; 
w(2:6) = 0; 
w 
```

Присваивание  w(2:6) = 0  эквивалентно последовательности команд 
w(2) = 0; w(3)=0; w(4)=0; w(5)=0; w(6)=0. 
Индексация при помощи двоеточия оказывается удобной при выделении части из большого объема данных в новый массив:

```matlab
w = [0.1 2.9 3.3 5.1 2.6 7.1 9.8]; 
wl = w(3:5) 
```

Составьте массив w2, содержащий элементы w кроме четвертого. В этом случае удобно использовать  двоеточие и сцепление строк:

```matlab
w = [0.1 2.9 3.3 5.1 2.6 7.1 9.8];
w2 = [w(1:3)  w(5:7)] 
```

Применение функций обработки данных к векторам

Перемножение элементов вектора-столбца или вектора-строки осуществляется при помощи функции prod:

```matlab
z = [3; 2; 1; 4; 6; 5]; 
p = prod(z)
```

Функция sum предназначена для суммирования элементов вектора. С ее помощью нетрудно вычислить среднее арифметическое элементов вектора z:

```matlab
z = [3; 2; 1; 4; 6; 5]; 
sum(z)/length(z) 
```

В MatLab имеется и специальная функция mean для вычисления среднего арифметического:

```matlab
z = [3; 2; 1; 4; 6; 5]; 
mean(z) 
```

Для определения минимального и максимального из элементов вектора служат встроенные функции min и max:

```matlab
z = [3; 2; 1; 4; 6; 5]; 

m1 = max(z) 
m2 = min(z) 
```

Часто необходимо знать не только значение минимального или максимального элемента в массиве, но и его индекс (порядковый номер). В этом случае встроенные функции min и max необходимо использовать с двумя выходными аргументами, например

```matlab
z = [3; 2; 1; 4; 6; 5]; 
[m, k] = min(z) 
```

В результате переменной m будет присвоено значение минимального элемента массива z, а номер минимального элемента занесен в переменную k.
Для получения информации о различных способах использования функций следует набрать в командной строке help и имя функции. MatLab выведет в командное окно всевозможные способы обращения к функции с дополнительными пояснениями. 
